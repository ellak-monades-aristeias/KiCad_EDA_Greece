\documentclass[a4paper]{article}

\usepackage{fontspec}
%για επιλογή γραμματοσειρών (μεταξύ άλλων)
\usepackage{polyglossia}
%για συλλαβισμό λέξεων (μεταξύ άλλων)
\usepackage{geometry}
%για μορφή σελίδας a4 (μεταξύ άλλων)
\usepackage{longtable}
%για προχωρημένους πίνακες
\usepackage{tabu}
%για προχωρημένους πίνακες
\usepackage{hyperref}
\usepackage{comment}

\setdefaultlanguage{greek}
\setotherlanguage{english}

\setmainfont{DejaVu Sans}

\title{Tutorial - Οδηγός Εκμάθησης KiCad}
\author{Μιχάλης Μισιρλής}
\date{Οκτώβριος 2015}

\begin{document}

\maketitle

\section{Εισαγωγή}
Αυτός ο οδηγός εκμάθησης έχει ως στόχο την εξοικείωση του Έλληνα χρήστη του KiCad μέσα από την ανάπτυξη ενός απλού αλλά πλήρους κυκλώματος (ηλεκτρονική συσκευή) ξεκινώντας από την βασική ιδέα και το σκοπό της συσκευής και καταλήγοντας στην παραγωγή αρχείων κατασκευής ώστε να μπορεί να παραχθεί η συσκευή από οποιοδήποτε εργοστάσιο ή εταιρεία παραγωγής πλακετών.

\subsection{Προαπαιτούμενα}
\label{sec:prereq}
Αυτός ο οδηγός έχει βασιστεί και απαιτεί το πρόγραμμα KiCad έκδοση 4.0.0 [TBD] με την Ελληνική μετάφραση [TBD]. Επίσης ο οδηγός θεωρεί ότι ο χρήστης είναι εξοικειωμένος με τις βασικές έννοιες ηλεκτρονικού σχεδιασμού και μπορεί να σχεδιάσει πλήρως ένα κύκλωμα στο χαρτί ή σε κάποιο άλλο πρόγραμμα. Αυτός ο οδηγός δεν έχει ως στόχο τη διδασκαλία ηλεκτρονικού σχεδιασμού, αλλά τη διδασκαλία του πως γίνεται ο ηλεκτρονικός σχεδιασμός με το KiCad.
Τέλος ο οδηγός θεωρεί ότι ο χρήστης είναι εξοικειωμένος τις βασικές έννοιες χρήσης ηλεκτρονικών υπολογιστών, όπως επιλογή μενού, έξοδος από ένα παράθυρο, επιλογή πολλαπλών στοιχείων κα

\subsection{Λεξικό όρων}
\begin{longtabu}{ c c }
    Ελληνικός όρος	&	Αγγλικός όρος	\\
    3Δ προβολή	&	3d viewer	\\
    αγκύρωση	&	anchor	\\
    ακροδέκτης	&	pin	\\
    ακτίνα	&	spoke	\\
    ακτίνα	&	spoke	\\
    αλφαριθμητικό	&	string	\\
    ανάλυση	&	parse	\\
    αναφορά, ονομασία αναφοράς	&	reference	\\
    αντεστραμμένο	&	inverted	\\
    αντικολλητικής μάσκας	&	solder resist mask	\\
    αντίσταση συγκόλλησης	&	solder resist	\\
    απόδοση	&	render	\\
    απόκλιση	&	skew	\\
    αποτύπωμα	&	footprint	\\
    γομα	&	eraser	\\
    γραμμή γραφικών	&	graphic line	\\
    διάκενο	&	clearance	\\
    διαμπερές	&	through (hole)	\\
    διάτρηση	&	drill	\\
    δίαυλος	&	bus	\\
    δίκτυα μίας έδρας	&	single pad nets	\\
    δρομολόγηση	&	route	\\
    δρόμος	&	pcb trace / track	\\
    έδρα	&	antipad clearance	\\
    έδρα	&	pad	\\
    εηκ	&	erc	\\
    εκς	&	drc	\\
    ελεγκτής ηλεκτρικών κανόνων	&	electrical rules checker	\\
    εξάρτημα	&	component	\\
    έξοδος	&	output	\\
    επάνω πλευρά	&	top side	\\
    επεξεργαστής σχεδίασης σελίδας	&	page layout editor	\\
    επιλογές	&	options / choices / selections	\\
    επίπεδα	&	layers	\\
    επίπεδα eco	&	eco layers	\\
    επίπεδο σχεδίων	&	drawings layer	\\
    επίπεδοα επικόλλησης	&	adhesive layers	\\
    επισήμανση	&	flag	\\
    ζώνες	&	zones	\\
    θαμμένο via	&	buried via	\\
    θύρα	&	port	\\
    θύρα ισχύος	&	power port	\\
    κανόνες σχεδιασμού	&	design rule	\\
    κατοπτρισμός, καθρέφτισμα	&	mirror	\\
    κάτω πλευρά	&	bottom side	\\
    κενό	&	gap	\\
    κοίλες γωνίες	&	fillet	\\
    κώδικας g	&	g code	\\
    λειτουργία γεμίσματος	&	filled mode	\\
    λειτουργία περιγράμματος	&	sketch mode	\\
    λειτουργία περιγράμματος	&	outline mode	\\
    λίστα δικτύων	&	netlist	\\
    λίστα υλικών	&	bill of materials	\\
    λοξότμηση	&	chamfer	\\
    μάσκα συγκόλλησης	&	solder mask	\\
    μέρη	&	unit	\\
    μεταξοτυπία	&	silk screen	\\
    Μετατόπιση \& σπρώξιμο	&	Push \& shove	\\
    μετατόπιση,θέση	&	offset	\\
    μηχανές ανύψωσης και τοποθέτησης	&	“pick and place”	\\
    μικρο-ρύθμιση, ρύθμιση	&	tune	\\
    μπροστινή όψη	&	front view	\\
    ονοματοδοσία	&	annotate	\\
    όρια πλακέτας	&	pcb/board edge	\\
    παλαιότερου τύπου	&	legacy	\\
    παραπομπή πλαισίου	&	frame reference	\\
    πάστα συγκόλλησης	&	solder paste	\\
    περιγράμμα πλακέτας	&	board outline	\\
    πίνακας	&	matrix	\\
    πίσω όψη	&	back view	\\
    πλαίσιο	&	box (για ui)	\\
    πλοηγός	&	navigator	\\
    πρόγραμμα προβολής pdf	&	pdf viewer	\\
    προκαθορισμένου	&	default	\\
    πρόσθετα	&	plugin	\\
    προτιμώμενο	&	favourite	\\
    ρυθμίσεις	&	settings	\\
    ρυθμίσεις	&	configurations	\\
    σκιαγράφηση	&	hatch	\\
    στελέχη	&	stubs	\\
    στοίβα έδρας	&	padstack	\\
    σύγκρουση, ασυμβατότητα	&	conflict	\\
    συντομεύσεις	&	hotkeys	\\
    συνώνυμο	&	alias	\\
    σύρμα	&	wire	\\
    σύρσιμο	&	drag	\\
    συστοιχία	&	array	\\
    σχεδίαση	&	design	\\
    σχεδίασης σελίδας	&	page layout	\\
    σχέδιο	&	drawing	\\
    σχεδιογραφώ	&	plot	\\
    σχηματικό διάγραμμα, σχηματικό	&	schematic	\\
    τόξο	&	arc	\\
    τρύπα	&	hole	\\
    φάκελος	&	folder / directory	\\
    φωλιά συνδέσεων	&	ratsnest	\\
    χαλκός	&	copper pour	\\
    χώρος αποτυπώματος	&	courtyard	\\
    χώρος σχεδίασης	&	canvas	\\
    ψευδώνυμο	&	nickname	\\
    excellon	&	excellon	\\
    excellon	&	excellon	\\
    gerber	&	gerber	\\
    NPTH	&	NPTH	\\
    PTH	&	PTH	\\
    SMD	&	SMD	\\
    VIA	&	VIA	\\
\end{longtabu}

\subsection{Περιγραφή συσκευής}
Η συσκευή ονομάζεται USB2UART και είναι ένας μετατροπέας USB σε 3.3V UART, βασισμένος στο ολοκληρωμένο CP2104 από την εταιρεία Silicon Labs. υποστηρίζεται από τα περισσότερα σύγχρονα λειτουργικά συστήματα ως εικονική σειριακή θύρα. Συνδέεται με έναν standard type B connector από τη μία πλευρά και ένα four-pin header από την άλλη. Περιλαμβάνει power status LED και RX/TX LED.

\subsection{Βασικές Έννοιες}
Το KiCad είναι μία ολοκληρωμένη σουίτα εφαρμογών σχεδίασης ηλεκτρονικών κυκλωμάτων EDA (Electronic Design Automation). Με το KiCad είναι εφικτή η σχεδίαση σχηματικών και τυπωμένων ηλεκτρονικών κυκλωμάτων, χρησιμοποιώντας διαφορετικές εφαρμογές για κάθε δουλειά.

Τα σχηματικά κυκλώματα σχεδιάζονται στο KiCad με την εφαρμογή EEschema. Αποτελούνται από εξαρτήματα (για παράδειγμα ένας πυκνωτής ή ένα ολοκληρωμένο) συνδέσεις μεταξύ τους, και άλλα στοιχεία. Τα σχηματικά κυκλώματα είναι οργανωμένα σε σχηματικά φύλλα. Κάθε σχηματικό φύλλο αποτελεί και ένα αρχείο στον υπολογιστή του χρήστη.

Τα εξαρτήματα των σχηματικών μπορεί να ανήκουν σε μία βιβλιοθήκη του KiCad ή μπορεί να τα έχει σχεδιάσει από το μηδέν ο χρήστης χρησιμοποιώντας το σχετικό εργαλείο του KiCad. Κάθε εξάρτημα αποτελεί και ένα αρχείο στον υπολογιστή του χρήστη.

Τα τυπωμένα κυκλώματα σχεδιάζονται στο KiCad με την εφαρμογή PCBnew. Αποτελούνται από πλακέτες που περιέχουν αποτυπώματα εξαρτημάτων, συνδέσεις μεταξύ τους μέσω δρόμων, και από τρύπες, via, κ.α.
Κάθε πλακέτα αποτελεί και ένα αρχείο στον υπολογιστή του χρήστη. 

Τα αποτυπώματα εξαρτημάτων μπορεί να ανήκουν σε μία βιβλιοθήκη του KiCad ή μπορεί να τα έχει σχεδιάσει από το μηδέν ο χρήστης χρησιμοποιώντας το σχετικό εργαλείο του KiCad. Κάθε αποτύπωμα αποτελεί και ένα αρχείο στον υπολογιστή του χρήστη. 

Τα αποτυπώματα μπορεί να έχουν τρισδιάστατη απεικόνιση. Οι τρισδιάστατες απεικονίσεις μπορεί να ανήκουν σε μία βιβλιοθήκη του KiCad ή μπορεί να τα έχει σχεδιάσει από το μηδέν ο χρήστης χρησιμοποιώντας κάποιο εργαλείο τρισδιάστατης σχεδίασης. Κάθε τρισδιάστατη απεικόνιση αποτελεί και ένα αρχείο στον υπολογιστή του χρήστη. 

Το σύνολο του κυκλώματος (σχηματικό, πλακέτα) οργανώνεται από το KiCad σε έργα. Κάθε έργο αποτελεί και ένα αρχείο στον υπολογιστή του χρήστη. 

\section{Δημιουργία Κυκλώματος}

\subsection{Δημιουργία έργου}
Εκτελέστε το πρόγραμμα KiCad. Δείτε το σχετικό κεφάλαιο~\ref{sec:prereq} για την έκδοση του KiCad που πρέπει να εκτελέσετε. Θα εμφανιστεί η κεντρική οθόνη του προγράμματος KiCad. Από το μενού στο πάνω μέρος της οθόνης επιλέγουμε Αρχείο$\rightarrow$Νέο Έργο$\rightarrow$Νέο Έργο. Δίνουμε στο νέο έργο (και το σχετικό αρχείο) ένα όνομα, έστω usb2uart. Προτείνεται να δημιουργηθεί το αρχείο του έργου σε έναν φάκελο του υπολογιστή σας ο οποίος θα είναι αφιερωμένος στο συγκεκριμένο έργο.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Κεντρική οθόνη του προγράμματος KiCad}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

\subsection{Δημιουργία σχηματικού}
Από το μενού στο πάνω μέρος της οθόνης επιλέγουμε Εργαλεία$\rightarrow$Εκτέλεση EEschema, για να εκτελεστεί η εφαρμογή EEschema με την οποία σχεδιάζουμε το σχηματικό κύκλωμα. Εάν εμφανιστεί κάποια προειδοποίηση, αποδεχτείτε την (TBD). Θα δημιουργηθούν δύο αρχεία στον υπολογιστή σας, τα usb2uart.sch και usb2uart-cache.lib. Εκτελέστε ξανά την εφαρμογή ώστε να μην εμφανιστεί κάποια προειδοποίηση (TBD).

Θα εμφανιστεί στην οθόνη σας η κεντρική σελίδα της εφαρμογής EEschema. Αυτή αποτελείται από τα παρακάτω
\begin{itemize}
    \item ένα φύλλο σχηματικού κυκλώματος στο κέντρο της οθόνης
    \item γραμμή μενού στο πάνω μέρος της οθόνης
    \item μπάρα βασικών λειτουργιών στο πάνω μέρος της οθόνης
    \item μπάρα με γενικές λειτουργίες στο αριστερό μέρος της οθόνης
    \item μπάρα με συγκεκριμένες λειτουργίες σχεδίασης στο δεξί μέρος της οθόνης
\end{itemize}
Αξίζει να σημειωθεί πως όπως και στις περισσότερες εφαρμογές, έτσι και στο KiCad και όλες τις εφαρμογές του, οι περισσότερες λειτουργίες μπορούν να γίνουν με δύο τρόπους: είτε επιλέγοντας κάτι στο μενού είτε κάνοντας κλικ στο σχετικό κουμπί μίας μπάρας.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Κεντρική σελίδα της εφαρμογής EEschema}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Το EEschema μπορεί να σχεδιάσει κυκλώματα που αποτελούνται από πολλά σχηματικά φύλλα. Σε αυτό το tutorial το κύκλωμά μας αποτελείται από ένα και μοναδικό φύλλο.

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε Αρχείο$\rightarrow$Ρυθμίσεις Σελίδας. Στο παράθυρο που εμφανίζεται, ορίστε τις ρυθμίσεις της σελίδας σας, όπως μέγεθος χαρτιού, ημερομηνία έκδοσης, τίτλος κυκλώματος, κα και πατήστε ΟΚ. Αυτές οι ρυθμίσεις δεν έχουν κάποια ηλεκτρική ή λειτουργική σημασία για το κύκλωμα, είναι όμως χρήσιμες πληροφορίες για την οργάνωση των κυκλωμάτων σας.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Ρυθμίσεις Σελίδας}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε "Τοποθέτηση"$\rightarrow$"Γραφικό Πολυγραμμής".

Με αυτό το εργαλείο μπορείτε να σχεδιάσετε γραμμές στο φύλλο σας. Αυτές οι γραμμές γραφικών δεν έχουν κάποια ηλεκτρική ή λειτουργική σημασία για το κύκλωμα, είναι απλή "ζωγραφική", είναι όμως χρήσιμες για την οργάνωση των κυκλωμάτων σας.

Σχεδιάστε στο φύλλο μία κατακόρυφη γραμμή που χωρίζει το φύλλο σε δύο τμήματα. Το δεξί τμήμα πρέπει να είναι περίπου το ένα τρίτο του συνολικού φύλλου. Αυτό το δεξί τμήμα θα το χρησιμοποιήσουμε ως χώρο για να γράφουμε  βοηθητικές πληροφορίες, και για να εναποθέτουμε προχωρινά τα εξαρτήματα πριν τα τοποθετήσουμε στην οριστική τους θέση στο κύκλωμα που θα σχεδιάσουμε στο αριστερό τμήμα της σελίδας.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Σχηματικό φύλλο χωρισμένο στα δύο}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Η εφαρμογή EEschema περιλαμβάνει πολλά εξαρτήματα, τα οποία μπορείτε να χρησιμοποιήσετε στα κυκλώματά σας. Τα εξαρτήματα αυτά είναι οργανωμένα σε βιβλιοθήκες. Το EEschema περιλαμβάνει αρχικά περίπου 30 βιβλιοθήκες οι οποίες περιλαμβάνονται εξαρχής σε κάθε νέο έργο που δημιουργείται. Για λόγους απλότητας του έργου μας, εμείς θα αφαιρέσουμε τις βιβλιοθήκες εξαρτημάτων που δεν έχουν εξαρτήματα χρήσιμα για το συγκεκριμένο κύκλωμα που σχεδιάζουμε.

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε "Προτιμήσεις"$\rightarrow$"Βιβλιοθήκες Εξαρτημάτων". Θα εμφανιστεί ένα παράθυρο με τις βιβλιοθήκες του έργου. Σε αυτό το παράθυρο επιλέξτε όλες τις βιβλιοθήκες (μία προς μία ή όλες μαζί) εκτός από τις βιβλιοθήκες power, device και conn και κάντε κλικ στο "Αφαίρεση". Θα πρέπει στο παράθυρο να φαίνονται μόνο οι τρεις βιβλιοθήκες power, device και conn. Κάντε κλικ στο "ΟΚ". Θα επανέλθετε στην κεντρική σελίδα της εφαρμογής EEschema.

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε "Αρχείο"$\rightarrow$"Αποθήκευση Σχηματικού Έργου".

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο με τις βιβλιοθήκες του έργου}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Σε αυτή τη φάση είμαστε στο commit tag tut00.

\subsection{Προσθήκη εξαρτημάτων}
Εφόσον έχουμε δημιουργήσει και ρυθμίσει το φύλλο μας, πρέπει να προσθέσουμε τα εξαρτήματα που θα αποτελέσουν το κύκλωμά μας. Πρέπει να βρισκόμαστε στην κεντρική σελίδα της εφαρμογής EEschema.

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε "Τοποθέτηση"$\rightarrow$"Εξάρτημα" και κάντε κλικ στο δεξί τμήμα του φύλλου σας. Θα εμφανιστεί ένα παράθυρο επιλογής εξαρτήματος.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο επιλογής εξαρτήματος}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Στο παράθυρο επιλογής εξαρτήματος επιλέξτε το εξάρτημα με όνομα "C" (ένας πυκνωτής) από τη βιβλιοθήκη "device", πατήστε ΟΚ (θα επανέλθετε το φύλλο σχηματικού) και κάντε κλικ στο δεξί τμήμα του φύλλου σας ώστε να τοποθετηθεί στο φύλλο το εξάρτημα που επιλέξατε. 

Αφού τοποθετήσετε το εξάρτημα με όνομα "C" στο φύλλο, ακολουθήστε την ίδια διαδικασία ώστε να τοποθετήσετε στο φύλλο σας (στο δεξί τμήμα) όλα τα παρακάτω εξαρτήματα. 

\begin{itemize}
    \item R, από τη βιβλιοθήκη device
    \item LED, από τη βιβλιοθήκη device
    \item VCC, από τη βιβλιοθήκη power
    \item +3.3V, από τη βιβλιοθήκη power
    \item GND, από τη βιβλιοθήκη power
    \item CONN\_01X04, από τη βιβλιοθήκη conn
\end{itemize}

Με την ολοκλήρωση αυτών των τοποθετήσεων, έχουμε στο φύλλο μας 7 εξαρτήματα, τοποθετημένα όλα τακτοποιημένα στο δεξί τμήμα του φύλλου.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Φύλλο σχηματικού με τοποθετημένα 7 εξαρτήματα}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Για λόγους ευκολίας ανάγνωση του κυκλώματος, θα χρειαστεί να αλλάξουμε το πρόθεμα της ονομασίας αναφοράς του CONN\_01X04 από P σε J. Για να το κάνουμε αυτό πρέπει να κάνουμε δεξί κλικ πάνω στο εξάρτημα CONN\_01X04, και από το μενού που εμφανίζεται να επιλέξουμε "Επεξεργασία Εξαρτήματος"$\rightarrow$"Επεξεργασία". Αυτό θα μας εμφανίσει το παράθυρο "Ιδιότητες Εξαρτήματος", όπου πρέπει να ορίσουμε την Τιμή Πεδίου της Ονομασίας Αναφοράς να είναι J? και όχι P?.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο "Ιδιότητες Εξαρτήματος"}
    \label{fig:kicad-main}
  \end{center}
\end{figure}


Στη συνέχεια θα χρειαστεί να τοποθετήσουμε στο κύκλωμά μας και άλλα εξαρτήματα C, R και CONN\_01X04. Για να το κάνουμε αυτό, αντί να κάνουμε πάλι τοποθέτηση και να τα επιλέγουμε από τις βιβλιοθήκες, μπορούμε να κάνουμε αντιγραφή των εξαρτημάτων που ήδη έχουμε στο φύλλο μας. 

Για να αντιγράψουμε (δηλαδή να φτιάξουμε ακόμα ένα αντίγραφο) ενός εξαρτήματος πρέπει να κάνουμε δεξί κλικ πάνω στο εξάρτημα, από το μενού που εμφανίζεται να επιλέξουμε "Αντιγραφή", και να κάνουμε κλικ πάνω στο φύλλο εκεί όπου θέλουμε να φιταχτεί το αντίγραφο του εξαρτήματος. 

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Αντιγραφή Εξαρτήματος}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Με αυτό τον τρόπο πρέπει να φτιάξουμε τα παρακάτω

\begin{itemize}
    \item 3 αντίγραφα του C, ώστε να έχουμε συνολικά 4 C στο φύλλο
    \item 2 αντίγραφα του R, ώστε να έχουμε συνολικά 3 R στο φύλλο
    \item 1 αντίγραφο του CONN\_01X04, ώστε να έχουμε συνολικά 2 CONN\_01X04 στο φύλλο
\end{itemize}

Με την ολοκλήρωση αυτών των τοποθετήσεων, έχουμε στο φύλλο μας 13 εξαρτήματα, τοποθετημένα όλα τακτοποιημένα στο δεξί τμήμα του φύλλου.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Φύλλο σχηματικού με τοποθετημένα 13 εξαρτήματα}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Σε αυτή τη φάση είμαστε στο commit tag tut01.

\subsection{Δημιουργία εξαρτημάτων}
Το EEschema μας δίνει τη δυνατότητα να επεξεργαστούμε ένα υπάρχον εξάρτημα ή και να δημιουργήσουμε ένα εξάρτημα από το μηδέν.

Εμείς σε αυτή τη φάση θέλουμε να εντάξουμε στο σχηματικό κύκλωμα το ολοκληρωμένο CP2104. Το KiCad όμως δεν έχει στις βιβλιοθήκες του εξάρτημα που να αντιστοιχεί στο ολοκληρωμένο CP2104, οπότε θα το δημιουργήσουμε.

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε Εργαλεία$\rightarrow$Επεξεργαστής Βιβλιοθήκης.

Θα εμφανιστεί στην οθόνη σας η κεντρική σελίδα του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων. Αυτή αποτελείται από τα παρακάτω
\begin{itemize}
    \item έναν κενό χώρο στο κέντρο της οθόνης
    \item γραμμή μενού στο πάνω μέρος της οθόνης
    \item μπάρα βασικών λειτουργιών στο πάνω μέρος της οθόνης
    \item μπάρα με γενικές λειτουργίες στο αριστερό μέρος της οθόνης
    \item μπάρα με συγκεκριμένες λειτουργίες σχεδίασης στο δεξί μέρος της οθόνης
\end{itemize}

Στον κενό χώρο στο κέντρο της οθόνης θα σχεδιάσουμε το σώμα του εξαρτήματος, θα προσθέσουμε ακροδέκτες, θα γράψουμε το όνομά του, κλπ. Όλα αυτά τα στοιχεία αφού τα προσθέσουμε στο σώμα του εξαρτήματος, μπορούμε να τα επιλέγουμε με δεξί κλικ του ποντικιού και να τα επεξεργαζόμαστε- κυρίως να τα μετακινούμε και να τα περιστρέφουμε.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Kεντρική σελίδα - Επεξεργαστής Βιβλιοθήκης Εξαρτημάτων}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Αρχικά θα δημιουργήσουμε ένα νέο εξάρτημα.

Κάντε κλικ στο εικονίδιο "Δημιουργία νέου εξαρτήματος" στην πάνω μπάρα \includegraphics{img/graphic.png}. Θα εμφανιστεί το παράθυρο "Ιδιότητες Εξαρτήματος". Στο παράθυρο αυτό, στο "Όνομα εξαρτήματος" γράψτε το όνομα CP2104, αφήστε όλες τις υπόλοιπες επιλογές στις προκαθορισμένες ρυθμίσεις, και επιλέξτε ΟΚ.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο "Ιδιότητες Εξαρτήματος"}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Πλέον έχουμε δημιουργήσει ένα νέο εξάρτημα, χωρίς κανέναν ακροδέκτη. 

Πρέπει να δημιουργήσουμε μία νέα βιβλιοθήκη, να το αποθηκεύσουμε σε αυτήν, και να εντάξουμε τη βιβλιοθήκη στο έργο μας.

Από την μπάρα στο πάνω μέρος της οθόνης επιλέξτε "Αποθήκευση τρέχοντος εξαρτήματος σε νέα βιβλιοθήκη" \includegraphics{img/graphic.png}.

Αυτό θα εμφανίσει ένα παράθυρο όπου θα πρέπει να δώσετε το όνομα της νέας βιβλιοθήκης που θέλετε να δημιουργήσετε ώστε να μπει σε αυτή το νέο εξάρτημα. Το όνομα της βιβλιοθήκης θα είναι και το όνομα του αρχείου στον υπολογιστή σας, το οποίο θα περιέχει τη βιβλιοθήκη. Δώστε στη βιβλιοθήκη το όνομα usb2uart.lib και πατήστε Save/Αποθήκευση ώστε το αρχείο της βιβλιοθήκης να αποθηκευτεί στον υπολογιστή σας. 

Θα εμφανιστεί ένα μήνυμα που θα λέει ότι η βιβλιοθήκη πρέπει να δηλωθεί στο EEschema για να χρησιμοποιηθεί. Πατήστε ΟΚ.

Κλείστε τον Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων, εκτελέστε το EEschema (αν δεν τρέχει ήδη) και από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε "Προτιμήσεις"$\rightarrow$"Βιβλιοθήκες Εξαρτημάτων". Θα εμφανιστεί ένα παράθυρο με τις βιβλιοθήκες του έργου. 

Σε αυτό το παράθυρο πατήστε "Προσθήκη", βρείτε στο σύστημα αρχείων του υπολογιστή σας το αρχείο της βιβλιοθήκης που δημιουργήσατε προηγουμένως (usb2uart.lib), και πατήστε Open. Η βιβλιοθήκη usb2uart θα πρέπει να έχει προστεθεί στις βιβλιοθήκες του έργου σας. Πατήστε ΟΚ στο παράθυρο με τις βιβλιοθήκες του έργου.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο με τις βιβλιοθήκες του έργου, με την usb2uart}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε "Αρχείο"$\rightarrow$"Αποθήκευση Σχηματικού Έργου".

Από το μενού στο πάνω μέρος της οθόνης του EEschema επιλέξτε Εργαλεία$\rightarrow$Επεξεργαστής Βιβλιοθήκης για να συνεχίσετε να δουλεύετε στον Επεξεργαστή Βιβλιοθήκης.

Κάντε κλικ στο εικονίδιο "Επιλογή βιβλιοθήκης εργασίας" στην πάνω μπάρα \includegraphics{img/graphic.png}, στο παράθυρο που εμφανίζεται επιλέξτε τη βιβλιοθήκη usb2uart, και πατήστε ΟΚ. Πρέπει να έχετε επιστρέψει στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο επιλογής βιβλιοθήκης εργασίας}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Τώρα πρέπει, στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης, να φορτώσουμε το εξάρτημα το οποίο θέλουμε να επεξεργαστούμε. 

Κάντε κλικ στο εικονίδιο "Φόρτωση εξαρτήματος για επεξεργασία από την τρέχουσα βιβλιοθήκη" \includegraphics{img/graphic.png}. Στο παράθυρο επιλογής εξαρτήματος που θα εμφανιστεί επιλέξτε το εξάρτημα με όνομα "CP2104" από τη βιβλιοθήκη "usb2uart", και πατήστε ΟΚ. Θα επανέλθετε στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης και θα έχει φορτωθεί στην οθόνη το εξάρτημα "CP2104".

Στη συνέχεια θα ορίσουμε κάποιες από τις γενικές ιδιότητες του εξαρτήματος. 

Κάντε κλικ στο εικονίδιο "Επεξεργασία ιδιοτήτων εξαρτήματος" \includegraphics{img/graphic.png} για να εμφανιστεί το παράθυρο Ιδιοτήτων για το εξάρτημα. 

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο Ιδιοτήτων για το εξάρτημα}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Σε αυτό το παράθυρο συμπληρώστε τα παρακάτω πεδία και μετά πατήστε ΟΚ για να επιστρέψετε στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης.

\begin{itemize}
    \item Περιγραφή: CP2104 Μετατροπέας USB-σε-UART
    \item Φίλτρο αποτυπώματος: QFN
    %\item docfile
\end{itemize}

Στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης πρέπει να σχεδιάσουμε αρχικά το σώμα του εξαρτήματος. 

Από το μενού στο πάνω μέρος της οθόνης επιλέξετε Τοποθέτηση$\rightarrow$Ορθογώνιο και σχεδιάστε στην οθόνη ένα κατακόρυφο ορθογώνιο όπως φαίνεται στη σχετική εικόνα. Για να σχεδιάσετε, κάντε κλικ εκεί που θέλετε να είναι η πάνω αριστερή γωνία και μετά ένα ακόμα κλικ εκεί που θέλετε να είναι η κάτω δεξιά γωνία του σχεδίου.

Στο εξάρτημα πρέπει να εμφανίζονται το όνομά του (CP2104) και η ονομασία αναφοράς (U?). Κάντε δεξί κλικ επάνω στο όνομα, επιλέξτε μετακίνηση, και τοποθετήστε το όνομα κάτω από το σώμα του εξαρτήματος. Επίσης κάντε δεξί κλικ επάνω στην ονομασία αναφοράς, επιλέξτε μετακίνηση, και τοποθετήστε την πάνω από το σώμα του εξαρτήματος. 

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Ορθογώνιο σώμα εξαρτήματος, με τοποθετημένα όνομα και αναφορά}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Να σημειωθεί ότι έως τώρα έχουμε ορίσει μόνο βοηθητικά στοιχεία του εξαρτήματος: το όνομά του, τι φίλτρο αποτυπώματος θα έχει, πως θα εμφανίζεται στο σχηματικό, κα. Τίποτα από αυτά δεν έχει ηλεκτρική/λειτουργική σημασία για το εξάρτημα.

Τώρα πρέπει να προσθέσουμε τους ακροδέκτες που θα αποτελούν το εξάρτημά μας. Το πόσους και τι είδους ακροδέκτες πρέπει να προσθέσουμε θα το γνωρίζουμε από το εγχειρίδιο/φύλλο δεδομένων (data sheet) του ολοκληρωμένου. Αυτό μπορείτε να το βρείτε στην ιστοσελίδα του κατασκευαστή του ολοκληρωμένου. 

Κατά τη συγγραφή αυτού του οδηγού εκμάθησης το εγχειρίδιο του CP2104 (έκδοση/Rev. 1.1) βρισκόταν στον σύνδεσμο \href{https://www.silabs.com/Support\%20Documents/TechnicalDocs/cp2104.pdf}{https://www.silabs.com/Support\%20Documents/TechnicalDocs/cp2104.pdf}. Αν δεν είναι διαθέσιμο σε αυτό τον σύνδεσμο επισκεφθείτε τη σελίδα του κατασκευαστή (\href{https://www.silabs.com/}{https://www.silabs.com/}) και αναζητήστε εκεί το εγχειρίδιο του CP2104.

Με βάση το εγχειρίδιο του CP2104, πρέπει να ορίσουμε 25 ακροδέκτες, όπως φαίνεται και στη σχετική εικόνα. Εκτός από τους 24 τυπικούς ακροδέκτες θα έχουμε ως ακροδέκτη και την θερμική έδρα GND του CP2104. Οπότε σύνολικά θα έχουμε 24 ακροδέκτες για το CP2104.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Ακροδέκτες του CP2104}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Σε αυτό το tutorial θα ορίσουμε 2 ακροδέκτες μόνο, και οι υπόλοιποι πρέπει να προστεθούν από εσάς, κατά τον ίδιο τρόπο όπως και οι 2 πρώτοι.

Αρχικά ας προσθέσουμε τον ακροδέκτη Vio, ο οποίος σύμφωνα με το εγχειρίδιο έχει το όνομα Vio, του έχει αποδοθεί ο αριθμός 5, και η λειτουργία του είναι είσοδος ισχύος τροφοδοσίας.

Από το μενού στο πάνω μέρος της οθόνης επιλέξετε Τοποθέτηση$\rightarrow$Ακροδέκτης και κάντε κλικ στην κεντρική οθόνη για να εμφανιστεί το παράθυρο Ιδιότητες Ακροδέκτη.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο Ιδιότητες Ακροδέκτη}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Σε αυτό το παράθυρο πρέπει να ορίσουμε τις παρακάτω σημαντικές ιδιότητες για τον ακροδέκτη, και μετά να το τοποθετήσουμε στο σώμα του εξαρτήματος.

\begin{itemize}
    \item Όνομα ακροδέκτη: Vio
    \item Αριθμός ακροδέκτη: 5
    \item Προσανατολισμός: Αριστερά
    \item Ηλεκτρικός Τύπος: Είσοδος ισχύος
\end{itemize}

Δεν έχει ηλεκτρική σημασία σε ποιο σημείο του σώματος θα τοποθετήσουμε τον ακροδέκτη (πάνω αριστερά, στη μέση κλπ) ή τι προσανατολισμό θα του δώσουμε. Αυτά είναι δευτερεύοντα χαρακτηριστικά, τα οποία μας βοηθούν στην απεικόνιση του σχηματικού. Συνήθως τους ακροδέκτες που έχουν συναφή λειτουργία τους σχεδιάζουμε κοντά τον έναν στον άλλο.

Το όνομα, ο αριθμός, και ο τύπος του ακροδέκτη έχουν ηλεκτρική σημασία καθώς λαμβάνονται υπόψιν κατά τον Έλεγχο Ηλεκτρικών Κανόνων που θα κάνουμε με το KiCad αργότερα.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Σώμα εξαρτήματος, με τοποθετημένο έναν ακροδέκτη}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Στη συνέχεια προσθέσετε τον ακροδέκτη D+, ο οποίος σύμφωνα με το εγχειρίδιο έχει το όνομα D+, του έχει αποδοθεί ο αριθμός 3, και η λειτουργία του είναι είσοδος/έξοδος δεδομένων.

Όπως και πριν, από το μενού στο πάνω μέρος της οθόνης επιλέξετε Τοποθέτηση$\rightarrow$Ακροδέκτης και κάντε κλικ στην κεντρική οθόνη για να εμφανιστεί το παράθυρο Ιδιότητες Ακροδέκτη.

Σε αυτό το παράθυρο πρέπει να ορίσουμε τις παρακάτω σημαντικές ιδιότητες για τον ακροδέκτη, και μετά να τον τοποθετήσουμε στο σώμα του εξαρτήματος.

\begin{itemize}
    \item Όνομα ακροδέκτη: D+
    \item Αριθμός ακροδέκτη: 3
    \item Προσανατολισμός: Δεξιά
    \item Ηλεκτρικός Τύπος: Αμφίδρομο
\end{itemize}

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Σώμα εξαρτήματος, με τοποθετημένους δύο ακροδέκτες}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Συνεχίζοντας κατά τον ίδιο τρόπο, τοποθετήστε και τους υπόλοιπους 23 ακροδέκτες του εξαρτήματος, ώστε να καταλήξετε τελικά στο εξάρτημα όπως αυτό φαίνεται στη σχετική εικόνα.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Σώμα εξαρτήματος, με τοποθετημένους όλους τους ακροδέκτες}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Στο εξάρτημα, εκτός από το σχεδιασμό του περιγράμματος και την τοποθέτηση των ακροδεκτών, μπορούμε να τοποθετήσουμε και άλλες οπτικές πληροφορίες, όπως κείμενο και επιπλέον γραμμές γραφικών που να προσφέρουν βοηθητικές πληροφορίες.

Για να προσθέσουμε κείμενο, επιλέγουμε από τη δεξιά μπάρα το το εικονίδιο "Προσθήκη κειμένου στο σώμα εξαρτήματος" \includegraphics{img/graphic.png}, κάνουμε κλικ στο σώμα του εξαρτήματος, και στο παράθυρο "Ιδιότητες Κειμένου Βιβλιοθήκης" που εμφανίζεται γράφουμε ό,τι κείμενο θέλουμε, επιλέγουμε αν θα εμφανίζεται κάθετα, τι στοίχιση θα έχει, κοκ.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο "Ιδιότητες Κειμένου Βιβλιοθήκης"}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Για παράδειγμα, στο CP2104 μπορούμε να βάλουμε κατακόρυφα δίπλα στους ακροδέκτες D+ και D- τη λέξη USB, το οποίο θα μας βοηθάει να θυμόμαστε ότι αυτή είναι η λειτουργία τους.

Επίσης, μπορούμε να βάλουμε κατακόρυφα δίπλα στους ακροδέκτες RTX, TXD, DTR τη λέξη UARTOUT, το οποίο θα μας βοηθάει να θυμόμαστε ότι αυτή είναι η λειτουργία τους.

Ομοίως και για τους ακροδέκτες DCD, RI, CTS, RXD, DSR τη λέξη UARTΙΝ.

Αφού έχουμε ορίσει όλους τους ακροδέκτες, καλό θα είναι να αποθηκεύσουμε το εξάρτημα στη βιβλιοθήκη. Από το μενού στο πάνω μέρος της οθόνης επιλέξτε Αρχείο$\rightarrow$Αποθήκευση της τρέχουσας βιβλιοθήκης. Θα εμφανιστούν δύο παράθυρα που θα ζητούν την επιβεβαίωση αυτή της αποθήκευσης. Επιλέξτε Yes/Ναι και στα δύο.

Πλέον έχουμε ολοκληρώσει τη δημιουργία του εξαρτήματος.

Σε αυτή τη φάση είμαστε στο commit tag tut02.

\subsection{Επεξεργασία εξαρτημάτων με πολλά μέρη}

Σε αυτό το κεφάλαιο θα φορτώσουμε ένα εξάρτημα (ένα led) από μία εσωτερική βιβλιοθήκη του KiCad, θα το επεξεργαστούμε κάνοντάς το να αποτελείται από πολλά μέρη, και θα το αποθηκεύσουμε (αλλαγμένο) σε μία δική μας βιβλιοθήκη.

Όταν ένα εξάρτημα αποτελείται από πολλά "μέρη" στο KiCad, αυτό σημαίνει ότι το εξάρτημα είναι ένα φυσικό αντικείμενο (πχ ένα ολοκλήρωμένο) το οποίο όμως αποτελείται εσωτερικά από πολλά ίδια μέρη. Στην περίπτωσή μας, εμείς θέλουμε ένα εξάρτημα το οποίο αποτελείται από δύο led.

Δεν υπάρχει εξάρτημα το οποίο αποτελείται από δύο led στις γνωστές βιβλιοθήκες του KiCad. Θα πρέπει να το σχεδιάσουμε εμείς.

Θα μπορούσαμε να δημιουργήσουμε από το μηδέν ένα νέο τέτοιο εξάρτημα, στον Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων. 

Είναι όμως καλύτερα να χρησιμοποιήσουμε το υπάρχον εξάρτημα led, και να σχεδιάσουμε ένα νέο εξάρτημα το οποίο θα αποτελείται από δύο εξαρτήματα led.

\subsubsection{Άνοιγμα του εξαρτήματος}
Θεωρούμε ότι είμαστε στην αρχική οθόνη του KiCad. 

Από το μενού στο πάνω μέρος της οθόνης επιλέξτε Εργαλεία$\rightarrow$Εκτέλεση Επεξεργαστή Βιβλιοθήκης, ώστε να φορτωθεί η κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Από την πάνω μπάρα, επιλέξτε το κουμπί "Επιλογή βιβλιοθήκης εργασίας" και στο παράθυρο που θα εμφανιστεί κάντε κλικ πάνω στη βιβλιοθήκη device και πατήστε ΟΚ για να φορτωθεί η βιβλιοθήκη και να επιστρέψετε στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων.

Από την κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων κάντε κλικ στο εικονίδιο "Φόρτωση εξαρτήματος για επεξεργασία από την τρέχουσα βιβλιοθήκη" \includegraphics{img/graphic.png}. Το παράθυρο που θα εμφανιστεί εμφανίζει όλα τα εξαρτήματα της βιβλιοθήκης LED. Βρείτε στη λίστα το εξάρτημα LED, επιλέξτε το, και πατήστε ΟΚ για να φορτωθεί στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων με φορτωμένο το εξάρτημα LED}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Τώρα, αφού έχουμε φορτώσει το εξάρτημα, θα φτιάξουμε ένα αντίγραφό του, και το αντίγραφο θα το αλλάξουμε ώστε να καλύπτει τις ανάγκες μας.

\subsubsection{Δημιουργία αντίγραφου εξαρτήματος}

Από την κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων κάντε κλικ στο εικονίδιο "Δημιουργία νέου εξαρτήματος από το τρέχον" \includegraphics{img/graphic.png}. Θα εμφανιστεί το παράθυρο "Όνομα Εξαρτήματος". Ονομάστε το νέο εξάρτημα bLED και πατήστε ΟΚ.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο "Όνομα Εξαρτήματος"}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Πλέον έχουμε δημιουργήσει ένα νέο εξάρτημα, το οποίο καλό είναι να αποθηκεύσουμε. Αλλά βρισκόμαστε στη βιβλιοθήκη device, η οποία επειδή είναι εσωτερική βιβλιοθήκη του KiCad δεν μπορούμε να γράψουμε σε αυτήν. Πρέπει να αποθηκεύσουμε το νέο εξάρτημα σε άλλη βιβλιοθήκη.

Από την πάνω μπάρα, επιλέξτε το κουμπί "Επιλογή βιβλιοθήκης εργασίας"\includegraphics{img/graphic.png} και στο παράθυρο που θα εμφανιστεί κάντε κλικ πάνω στη βιβλιοθήκη uart και πατήστε ΟΚ για να φορτωθεί η βιβλιοθήκη και να επιστρέψετε στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων.

Από το μενού στο πάνω μέρος της οθόνης επιλέξτε Αρχείο$\rightarrow$Αποθήκευση της τρέχουσας βιβλιοθήκης. Θα εμφανιστούν δύο παράθυρα που θα ζητούν την επιβεβαίωση αυτή της αποθήκευσης. Επιλέξτε Yes/Ναι και στα δύο.

Πλέον έχουμε αποθηκεύσει το εξάρτημα που φτιάξαμε (αντιγράφοντας ένα υπάρχον) στη δική μας βιβλιοθήκη.

\subsubsection{Αλλαγή ιδιοτήτων εξαρτήματος}
Κάντε κλικ στο εικονίδιο "Επεξεργασία ιδιοτήτων εξαρτήματος" \includegraphics{img/graphic.png} για να εμφανιστεί το παράθυρο Ιδιοτήτων για το εξάρτημα. 

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Παράθυρο Ιδιοτήτων Εξαρτήματος}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Αλλάξτε τον αριθμό των μερών από ένα σε 2, και πατήστε ΟΚ για να επιστρέψετε στην κεντρική οθόνη του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων.

Πλέον το εξάρτημά μας αποτελείται από δύο μέρη. Ποιο μέρος του εξαρτήματος (μέρος Α ή μέρος Β) επεξεργάζεστε ανά πάσα στιγμή φαίνεται στο πάνω δεξιά μέρος της κεντρικής οθόνης του Επεξεργαστή Βιβλιοθήκης Εξαρτημάτων.

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Ένδειξη μέρους εξαρτήματος}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Αφού πλέον το εξάρτημα bLED αποτελείται από δύο μέρη, πρέπει να αριθμήσουμε τους ακροδέκτες του μέρους Α ως 1 και 3 και τους ακροδέκτες του μέρους Β ως 2 και 4.

Για να το κάνουμε αυτό, επιλέγουμε στην "Ένδειξη μέρους εξαρτήματος" το "Μέρος A", και φροντίζουμε οι δύο ακροδέκτες να έχουν αριθμό 1 (άνοδος) και 3 (κάθοδος). Μπορούμε να αλλάξουμε τον αριθμό ενός ακροδέκτη κάνοντας δεξί κλικ επάνω στον ακροδέκτη και επιλέγοντας "Επεξεργασία Ακροδέκτη".

Παρομοίως, επιλέγουμε στην "Ένδειξη μέρους εξαρτήματος" το "Μέρος B", και φροντίζουμε οι δύο ακροδέκτες να έχουν αριθμό 2 (άνοδος) και 4 (κάθοδος). Μπορούμε να αλλάξουμε τον αριθμό ενός ακροδέκτη κάνοντας δεξί κλικ επάνω στον ακροδέκτη και επιλέγοντας "Επεξεργασία Ακροδέκτη".

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Εξάρτημα bLEB - Μέρος Α}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

\begin{figure}
  \begin{center}
    \includegraphics{img/kicad-main.png}
    \caption{Εξάρτημα bLEB - Μέρος Β}
    \label{fig:kicad-main}
  \end{center}
\end{figure}

Αφού έχετε ορίσει τους αριθμούς των ακροδεκτών, δεν μένει παρά να αποθηκεύσουμε το εξάρτημα.

Από το μενού στο πάνω μέρος της οθόνης επιλέξτε Αρχείο$\rightarrow$Αποθήκευση της τρέχουσας βιβλιοθήκης. Θα εμφανιστούν δύο παράθυρα που θα ζητούν την επιβεβαίωση αυτή της αποθήκευσης. Επιλέξτε Yes/Ναι και στα δύο.

Σε αυτή τη φάση είμαστε στο commit tag tut03.

\subsection{Σχεδίαση κυκλώματος}

\subsubsection{Προσθήκη εξαρτημάτων}

* add CP2104 to schematic
* add bLED to schematic, and make one more copy
* edit second bLED, modify UNIT (not really needed)
-= TAG "tutorial04" =-

\subsubsection{Σχεδίαση κυκλώματος}

* place CP2104 in center of schematic
* connect pins 7,8 to VCC
* connect pins 5,6,9 to 3.3V
* connect pins 2,25 to ground

* rename capacitors to 1u, 1u, 100n, 470n
* place 1u and 100n bypass to 3.3V, 1u bypass to VCC, 470n between pins 16 and 2 of CP2104

* rename one J to "USB", other J to "Header"
* place USB to the left of CP2104, Header to the right
  - show rotation of symbols, with keys R, X, Y
* connect pin 1 of USB to VCC, pin 4 to GND
* connect pin 1 of HEADER to 3.3, pin 4 to GND
* connect pin 2 of USB to D- of CP2104 using local label
* connect pin 3 of USB to D+ of CP2104 using local label
* connect pin 2 of HEADER to RXD of CP2104 using local label
* connect pin 3 of HEADER to TXD of CP2104 using local label


* rename resistors to 220R, 220R, 430R
* place resistor 430R in series with single led and connect
* place resistors 220R in series with bi color leds and connect
* connect 430R to VCC, single LED to ground
* connect both 220R to 3.3V, D?A to GPIO.0 with label (LEDTX), D?B to GPIO.1 with label (LEDRX)
* add text next to LEDs to keep note of color (single=blue, A=green, B=orange)
* add labels to remaining non-power nets (vpp, between leds and res)
* remove any remaining symbols from "sidebar"

\subsubsection{Τελικοί έλεγχοι}
* perform annotation
* perform DRC
  - fails, add no-connects
  - try again
  - fails, add power flags
  - try again
  - one warning, ignore, del markers
* plot schematic in PDF 
* set custom fields (MFG, MFG code) [TAG JUMP to "tutorial05"]
-= TAG "tutorial05" =-

\subsubsection{Αρχεία παραγωγής}
* export BOM, by ref, fields 1 and 2
  - open CSV with localc
* export netlist
* plot schematic in PDF 
-= TAG "tutorial06" =-

\end{document}
